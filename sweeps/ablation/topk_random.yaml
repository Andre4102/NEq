name: topk vs random
program: train_classification.py
command:
  - ${env}
  - python3
  - ${program}
  - ${args}
method: grid
parameters:
  seed:
    values: [ 1 ]
  root:
    values: [ "/data/classification" ]
  amp:
    values: [ 1 ]
  device:
    values: [ "cuda" ]

  arch:
    values: [ "resnet32-cifar" ]

  epochs:
    values: [ 250 ]

  optim:
    values: [ "sgd" ]
  lr:
    values: [ 0.1 ]
  momentum:
    values: [ 0.9 ]
  weight-decay:
    values: [ 5e-4 ]

  dataset:
    values: ["cifar10"]
  batch-size:
    values: [100]
  val-size:
    values: [0.001]

  rollback:
    values: [ "optim" ]
  topk:
    values: [ 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1 ]
  random-mask:
    values: [ 0, 1 ]
  mask-mode:
    values: [ "per-feature" ]
  delta-mode:
    values: [ "cosine" ]
  reduction:
    values: [ "mean" ]
  warmup:
    values: [ 1 ]
  eps:
    values: [ "none" ]
  binomial:
    values: [ 0 ]
  pinning:
    values: [ 0 ]
  rollback-model:
    values: [ 0 ]
  delta-of-delta:
    values: [ 0 ]
  velocity:
    values: [ 1 ]
  velocity-mu:
    values: [ 0.5 ]
  project-name:
    values: [ "zero-grad-cifar-ablation" ]